@(title: String)(content: Html)(implicit request: play.api.mvc.RequestHeader)

@defining(request.cookies.get("theme").map(_.value).getOrElse("auto")) { theme =>
    @defining(request.path == controllers.routes.HomeController.home().url) { isHome =>
        @defining(if(isHome) "page-home" else "") { pageClass =>
            @defining(theme match { case "light" => "theme-light"; case "dark" => "theme-dark"; case _ => "theme-auto" }) { themeClass =>
                @defining(theme match { case "dark" => "Light Mode"; case _ => "Dark Mode" }) { toggleLabel =>

                <!DOCTYPE html>
                    <html lang="de" data-bs-theme="@theme">
                        <head>
                            <meta charset="utf-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1">
                            <title>@title</title>
                                <!-- Bootstrap -->
                            <link href="https://cdn.jsdelivr.net/npm/bootstrap@@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
                                <!-- Play -->
                            <link rel="stylesheet" media="screen" href='@controllers.routes.Assets.versioned("stylesheets/main.css")'>
                                <!-- Schriftart -->
                            <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@@400;700;900&display=swap" rel="stylesheet">
                        </head>
                        <body class="game @themeClass @pageClass">
                            <header class="game__header">
                                @if(!isHome) {
                                    <h1 class="game__title">Wizard</h1>
                                }
                                <a class="theme-switch" href='@controllers.routes.ThemeController.toggleTheme(returnTo = request.uri)'>
                                @toggleLabel
                                </a>
                            </header>

                            @content
                        </body>
                    </html>

                }
            }
        }
    }
}